{
  "name": "gulp-usemin",
  "version": "0.3.28",
  "description": "Replaces references to non-optimized scripts or stylesheets into a set of HTML files (or any templates/views).",
  "main": "index.js",
  "dependencies": {
    "gulp-util": "~3.0.8",
    "through2": "~2.0.3",
    "glob": "~7.1.1",
    "gulp-concat": "~2.6.1"
  },
  "devDependencies": {
    "event-stream": "~3.3.4",
    "vinyl-fs": "~2.4.4",
    "gulp": "~3.9.1",
    "gulp-jshint": "~2.0.4",
    "gulp-mocha": "~3.0.1",
    "gulp-uglify": "~2.0.1",
    "gulp-htmlmin": "~3.0.0",
    "gulp-clean-css": "~2.3.2",
    "gulp-rev": "~7.1.2",
    "gulp-less": "3.3.0",
    "jshint": "~2.9.4"
  },
  "scripts": {
    "test": "./node_modules/.bin/gulp"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/zont/gulp-usemin.git"
  },
  "keywords": [
    "gulpplugin",
    "usemin",
    "gulp-usemin"
  ],
  "author": {
    "name": "Alexander Zonov",
    "email": "zont@pochta.ru"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/zont/gulp-usemin/issues"
  },
  "engines": {
    "node": ">=0.12"
  },
  "readme": "[![Build Status](https://travis-ci.org/zont/gulp-usemin.svg?branch=master)](https://travis-ci.org/zont/gulp-usemin)\r\n\r\n# gulp-usemin\r\n> Replaces references to non-optimized scripts or stylesheets into a set of HTML files (or any templates/views).\r\n\r\nThis task is designed for gulp >= 3 and node >= 4.0.\r\n> Attention: v0.3.0 options is not compatible with v0.2.0.\r\n\r\n## Usage\r\n\r\nFirst, install `gulp-usemin` as a development dependency:\r\n\r\n```shell\r\nnpm install --save-dev gulp-usemin\r\n```\r\n\r\nThen, add it to your `gulpfile.js`:\r\n\r\n```javascript\r\nvar usemin = require('gulp-usemin');\r\nvar uglify = require('gulp-uglify');\r\nvar htmlmin = require('gulp-htmlmin');\r\nvar cleanCss = require('gulp-clean-css');\r\nvar rev = require('gulp-rev');\r\n\r\n\r\ngulp.task('usemin', function() {\r\n  return gulp.src('./*.html')\r\n    .pipe(usemin({\r\n      css: [ rev() ],\r\n      html: [ htmlmin({ collapseWhitespace: true }) ],\r\n      js: [ uglify(), rev() ],\r\n      inlinejs: [ uglify() ],\r\n      inlinecss: [ cleanCss(), 'concat' ]\r\n    }))\r\n    .pipe(gulp.dest('build/'));\r\n});\r\n```\r\n\r\nIf you need to call the same pipeline twice, you need to define each task as a function that returns the stream object that should be used.\r\n\r\n```javascript\r\ngulp.task('usemin', function() {\r\n  return gulp.src('./*.html')\r\n    .pipe(usemin({\r\n      css: [ rev ],\r\n      html: [ function () {return htmlmin({ collapseWhitespace: true });} ],\r\n      js: [ uglify, rev ],\r\n      inlinejs: [ uglify ],\r\n      inlinecss: [ cleanCss, 'concat' ]\r\n    }))\r\n    .pipe(gulp.dest('build/'));\r\n});\r\n```\r\n\r\n\r\n## API\r\n\r\n### Blocks\r\nBlocks are expressed as:\r\n\r\n```html\r\n<!-- build:<pipelineId>(alternate search path) <path> -->\r\n... HTML Markup, list of script / link tags.\r\n<!-- endbuild -->\r\n```\r\n\r\n- **pipelineId**: pipeline id for options or *remove* to remove a section\r\n- **alternate search path**: (optional) By default the input files are relative to the treated file. Alternate search path allows one to change that\r\n- **path**: the file path of the optimized file, the target output\r\n\r\nAn example of this in completed form can be seen below:\r\n\r\n```html\r\n<!-- build:css style.css -->\r\n<link rel=\"stylesheet\" href=\"css/clear.css\"/>\r\n<link rel=\"stylesheet\" href=\"css/main.css\"/>\r\n<!-- endbuild -->\r\n\r\n<!-- build:htmlimport components-packed.html -->\r\n<link rel=\"import\" href=\"components-a.html\">\r\n<link rel=\"import\" href=\"components-b.html\">\r\n<!-- endbuild -->\r\n\r\n<!-- build:js js/lib.js -->\r\n<script src=\"../lib/angular-min.js\"></script>\r\n<script src=\"../lib/angular-animate-min.js\"></script>\r\n<!-- endbuild -->\r\n\r\n<!-- build:js1 js/app.js -->\r\n<script src=\"js/app.js\"></script>\r\n<script src=\"js/controllers/thing-controller.js\"></script>\r\n<script src=\"js/models/thing-model.js\"></script>\r\n<script src=\"js/views/thing-view.js\"></script>\r\n<!-- endbuild -->\r\n\r\n<!-- build:remove -->\r\n<script src=\"js/localhostDependencies.js\"></script>\r\n<!-- endbuild -->\r\n\r\n<!-- build:inlinejs -->\r\n<script src=\"../lib/angular-min.js\"></script>\r\n<script src=\"../lib/angular-animate-min.js\"></script>\r\n<!-- endbuild -->\r\n\r\n<!-- build:inlinecss -->\r\n<link rel=\"stylesheet\" href=\"css/clear.css\"/>\r\n<link rel=\"stylesheet\" href=\"css/main.css\"/>\r\n<!-- endbuild -->\r\n```\r\n\r\n### Options\r\n\r\n#### assetsDir\r\nType: `String`\r\n\r\nAlternate root path for assets. New concated js and css files will be written to the path specified in the build block, relative to this path. Currently asset files are also returned in the stream.\r\n\r\n#### path\r\nType: `String`\r\n\r\nDefault alternate search path for files. Can be overridden by the alternate search path option for a given block.\r\n\r\n#### any pipelineId\r\nType: `Array`\r\n\r\nIf exist used for modify files. If does not contain string 'concat', then it added as first member of pipeline\r\n\r\n#### outputRelativePath\r\nType: `String`\r\nRelative location to html file for new concatenated js and css.\r\n\r\n#### enableHtmlComment\r\nType: `Boolean`\r\n\r\nKeep HTML comment when processing\r\n\r\n#### jsAttributes\r\nType: `Object`\r\n\r\nAttach HTML attributes to the output js file.\r\nFor Example :\r\n```js\r\ngulp.task('usemin', function() {\r\n  return gulp.src('./index.html')\r\n    .pipe(usemin({\r\n      html: [],\r\n      jsAttributes : {\r\n        async : true,\r\n        lorem : 'ipsum',\r\n        seq   : [1, 2, 1]\r\n      },\r\n      js: [ ],\r\n      js1:[ ],\r\n      js2:[ ]\r\n    }))\r\n    .pipe(gulp.dest('./'));\r\n});\r\n```\r\nWill give you :\r\n```html\r\n<script src=\"./lib.js\" async lorem=\"ipsum\" seq=\"1\"></script>\r\n<script src=\"./app.js\" async lorem=\"ipsum\" seq=\"2\"></script>\r\n<script src=\"./extra.js\" async lorem=\"ipsum\" seq=\"1\"></script>\r\n```\r\nAs your built script tag.\r\n\r\n#### skipMissingResources\r\nType: `Boolean`\r\n\r\nAllows missing resources to be skipped, instead of throwing an error.\r\n\r\n## Use case\r\n\r\n```\r\n|\r\n+- app\r\n|   +- index.html\r\n|   +- assets\r\n|       +- js\r\n|          +- foo.js\r\n|          +- bar.js\r\n|   +- css\r\n|       +- clear.css\r\n|       +- main.css\r\n+- dist\r\n```\r\n\r\nWe want to optimize `foo.js` and `bar.js` into `optimized.js`, referenced using relative path. `index.html` should contain the following block:\r\n\r\n```\r\n    <!-- build:css style.css -->\r\n    <link rel=\"stylesheet\" href=\"css/clear.css\"/>\r\n    <link rel=\"stylesheet\" href=\"css/main.css\"/>\r\n    <!-- endbuild -->\r\n\r\n    <!-- build:js js/optimized.js -->\r\n    <script src=\"assets/js/foo.js\"></script>\r\n    <script src=\"assets/js/bar.js\"></script>\r\n    <!-- endbuild -->\r\n```\r\n\r\nWe want our files to be generated in the `dist` directory. `gulpfile.js` should contain the following block:\r\n\r\n```javascript\r\ngulp.task('usemin', function () {\r\n  return gulp.src('./app/index.html')\r\n      .pipe(usemin({\r\n        js: [uglify()]\r\n        // in this case css will be only concatenated (like css: ['concat']).\r\n      }))\r\n      .pipe(gulp.dest('dist/'));\r\n});\r\n```\r\n\r\nThis will generate the following output:\r\n\r\n```\r\n|\r\n+- app\r\n|   +- index.html\r\n|   +- assets\r\n|       +- js\r\n|          +- foo.js\r\n|          +- bar.js\r\n+- dist\r\n|   +- index.html\r\n|   +- js\r\n|       +- optimized.js\r\n|   +- style.css\r\n```\r\n\r\n`index.html` output:\r\n\r\n```\r\n    <link rel=\"stylesheet\" href=\"style.css\"/>\r\n\r\n    <script src=\"js/optimized.js\"></script>\r\n```\r\n\r\n## Changelog\r\n\r\n#####0.3.28\r\n- Update dependancies and replace deprecated packages (by JamyGolden)\r\n\r\n#####0.3.27\r\n- Updated glob dependency (by icholy)\r\n\r\n#####0.3.26\r\n- Fix for css media queries (by akempes)\r\n\r\n#####0.3.24\r\n- Added option to skip missing resources (by adamhenson)\r\n\r\n#####0.3.23\r\n- Added support array value for cssAttributes (by MillerRen)\r\n\r\n#####0.3.22\r\n- Added html import support (by linfaxin)\r\n\r\n#####0.3.21\r\n- Added support paths with querystring or hash (by Lanfei)\r\n\r\n#####0.3.20\r\n- Added support array value for jsAttributes (by kuitos)\r\n\r\n#####0.3.18\r\n- Fixed relative path for script in subfolder bug\r\n\r\n#####0.3.17\r\n- Fixed block output when stream returns multiple files (by maksidom)\r\n\r\n#####0.3.16\r\n- Added feature to assign attributes to js script tags (by sohamkamani)\r\n\r\n#####0.3.15\r\n- Allow proper html output when blocks are empty (by ppowalowski)\r\n\r\n#####0.3.14\r\n- fixed #91\r\n\r\n#####0.3.13\r\n- works fine only with gulp-foreach\r\n\r\n#####0.3.12\r\n- fixed #121. Depending on the node >= 0.12.\r\n\r\n#####0.3.11\r\n- fixed #88\r\n\r\n#####0.3.10\r\n- fixed uppercase Q bug (on case-sensetive file systems)\r\n\r\n#####0.3.9\r\n- async tasks support\r\n\r\n#####0.3.8\r\n- allow removal option (by tejohnso)\r\n- added support for single quotes (by adicirstei)\r\n\r\n#####0.3.7\r\n- ouputRelativePath renamed outputRelativePath\r\n\r\n#####0.3.6\r\n- ouputRelativePath option (by bhstahl)\r\n\r\n#####0.3.5\r\n- Support for conditional comments inside build blocks (by simplydenis)\r\n\r\n#####0.3.4\r\n- When a file does not exist an error containing the missing path is thrown\r\n\r\n#####0.3.3\r\n- fixed dependencies\r\n- Add support for multiple alternative paths (by peleteiro)\r\n\r\n#####0.3.2\r\n- fixed assetsDir option (by rovjuvano)\r\n\r\n#####0.3.1\r\n- fixed fails to create source map files by uglify({outSourceMap: true})\r\n\r\n#####0.3.0\r\n- new version of options\r\n\r\n#####0.2.3\r\n- fixed html minify bug\r\n\r\n#####0.2.2\r\n- allow gulp-usemin to work with minified source HTML (by CWSpear)\r\n- fixed alternate path bug (by CWSpear)\r\n- add assetsDir option (by pursual)\r\n- add rev option (by pursual)\r\n\r\n#####0.2.1\r\n- fixed subfolders bug\r\n\r\n#####0.2.0\r\n- no minification by default. New options API\r\n\r\n#####0.1.4\r\n- add alternate search path support\r\n\r\n#####0.1.3\r\n- add support for absolute URLs (by vasa-chi)\r\n\r\n#####0.1.1\r\n- fixed aggressive replace comments\r\n\r\n#####0.1.0\r\n- fixed some bugs. Add tests.\r\n\r\n#####0.0.2\r\n- add minification by default\r\n\r\n#####0.0.1\r\n- initial release\r\n",
  "readmeFilename": "README.md",
  "_id": "gulp-usemin@0.3.28",
  "_from": "gulp-usemin@"
}
